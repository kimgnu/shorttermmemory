<!DOCTYPE html>
<html>
    <head>
        <style type="text/css">
            #boundary{
                margin:auto;
                border:1px solid black;
                cursor: none;
                }
            .num{             
                width:33%;
                height:33%;
                float:left;
                text-align:center;
                opacity:0;  
              }
            .hidden{
                opacity:1;
              }
            .shown{
                opacity:1;
              }
        </style>
        <script type="text/javascript" src="jquery-2.2.0.min.js">
        </script>            
    </head>
    <body>
        <div id='boundary'>

            <div class='num' id='a'></div>
            <div class='num' id='b'></div>
            <div class='num' id='c'></div>

            <div class='num' id='d'></div>
            <div class='num' id='e'></div>
            <div class='num' id='f'></div>

            <div class='num' id='g'></div>
            <div class='num' id='h'></div>
            <div class='num' id='i'></div>
                   
        </div>

        <script type="text/javascript">
            $(document).ready(function() {
                var interval = 1000;
                var nums = [1, 2, 3, 4, 5, 6, 7, 8, 9];
                var order = ['#a', '#b', '#c', '#d', '#e', '#f', '#g', '#h', '#i'];
                var sqlen = $(window).height();
                if ($(window).width() < sqlen) sqlen = $(window).width();
                alert("Start Short Term Memory Test");
                $('#boundary').css('margin-top', sqlen/8);
                $('#boundary').css('height', sqlen*3/4);
                $('#boundary').css('width', sqlen*3/4);
                $('.num').css('font-size', sqlen/5);
                
                function shuffle(a) {
                    a.sort(function() { return 0.5 - Math.random() });
                   }
                    
                function shufflePos() {
                    order.sort();
                    shuffle(nums);
                    
                    for (var i = 0; i < nums.length; i++) {
                        $(order[i]).html(nums[i]);
                        }
                    shuffle(order);
                   }

                function startTest() {
                    $(document).css('cursor', 'none');
                    var i = -1;
                    $(order[i]).addClass('shown');
                    setInterval(function() {
                        if(i < order.length) {
                            if (i != -1) $(order[i]).removeClass('shown');
                                
                            $(order[++i]).addClass('shown');
                        } else
                            clearInterval(this);
                        }, interval);
                    
                   }
                
                shufflePos();
                startTest();
                $(document).click(function() {
                    $('.num').css('opacity', '1');
                    });

            });
        </script>        

    </body>
</html>

